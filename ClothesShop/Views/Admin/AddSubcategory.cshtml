@model ClothesShop.Models.AddSubcategoryModel

@{
    ViewBag.Title = "AddSubcategory";
}

@if (Object.Equals(Session["IsAuthenticated"], true) && Object.Equals(Session["IsAdmin"], true))
{
	<h2>AddSubcategory</h2>

	<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
	<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

	@Html.ValidationSummary(true, "Adding subcategory was unsuccessful. Please correct the errors and try again.")
	
	using (Html.BeginForm())
	{
		<fieldset>
			<legend>Create Subcategory</legend>

			<div class="editor-label">
				@Html.LabelFor(model => model.ParentCategoryID)
			</div>
			<div class="editor-field">
				@Html.DropDownListFor(model => model.ParentCategoryID, Model.Categories.Select(x => new SelectListItem() { Text = x.Name, Value = x.ID.ToString() }))
			</div>
			<div class="editor-label">
				@Html.LabelFor(model => model.SubcategoryName)
			</div>
			<div class="editor-field">
				@Html.EditorFor(model => model.SubcategoryName)
				@Html.ValidationMessageFor(model => model.SubcategoryName)
			</div>
			
			<p>
				<input type="submit" value="Create" />
			</p>
		</fieldset>
	}

	<div>
		@Html.ActionLink("Back to List", "Index")
	</div>
}
else
{
	<h2> You don't have the permissions to view this page.</h2>
}